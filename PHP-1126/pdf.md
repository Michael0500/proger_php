Чтобы установить **PdfMerger** (упрощенную обертку над FPDI), выполните следующие шаги:

---

### 1. Установка через Composer
Откройте терминал в корне вашего проекта и выполните команду:
```bash
composer require pdf-merger/pdf-merger
```

Это установит:
- **PdfMerger** (основная библиотека)
- **FPDI** (для работы с PDF)
- **TCPDF** (для генерации PDF)

---

### 2. Проверьте зависимости
Убедитесь, что в вашем `composer.json` добавлены необходимые пакеты:
```json
{
    "require": {
        "pdf-merger/pdf-merger": "^1.0",
        "setasign/fpdi": "^2.3",
        "tecnickcom/tcpdf": "^6.4"
    }
}
```

---

### 3. Пример использования
```php
<?php
// Подключаем автозагрузчик Composer
require_once 'vendor/autoload.php';

use PdfMerger\PdfMerger;

// Создаем объект PdfMerger
$pdfMerger = new PdfMerger();

// Добавляем PDF-файлы
$pdfMerger->addPDF('file1.pdf'); // Первый файл
$pdfMerger->addPDF('file2.pdf'); // Второй файл

// Объединяем и сохраняем результат
$pdfMerger->merge();
$pdfMerger->save('merged.pdf', 'F'); // 'F' — сохранить в файл
?>
```

---

### 4. Если возникли проблемы
- **Ошибка класса не найден**: Убедитесь, что подключили `vendor/autoload.php`.
- **Конфликты версий**: Если в проекте уже есть FPDI/TCPDF, обновите их через `composer update`.
- **Ручная установка**: Если Composer недоступен, [скачайте библиотеку](https://github.com/clegginabox/pdf-merger) и подключите вручную:
  ```php
  require_once 'path/to/PdfMerger.php';
  ```

---

### Альтернатива
Если PdfMerger не подходит, используйте **FPDI напрямую** (как в первом ответе).

Для объединения PDF-документов на PHP без искажения стилей можно использовать библиотеку **FPDI** (в сочетании с **TCPDF** или **FPDF**). FPDI позволяет импортировать существующие PDF-страницы и объединять их, сохраняя исходное форматирование. Вот пример:

### 1. Установка библиотек
Установите FPDI через Composer:
```bash
composer require setasign/fpdi
```

### 2. Пример кода
```php
<?php
require_once 'vendor/autoload.php';

use setasign\Fpdi\Fpdi;
use setasign\Fpdi\PdfReader;

// Создаем объект FPDI
$pdf = new Fpdi();

// Добавляем страницы из первого PDF
$pdf->setSourceFile('file1.pdf');
$pageCount = $pdf->setSourceFile('file1.pdf');
for ($i = 1; $i <= $pageCount; $i++) {
    $templateId = $pdf->importPage($i);
    $pdf->AddPage();
    $pdf->useTemplate($templateId);
}

// Добавляем страницы из второго PDF
$pdf->setSourceFile('file2.pdf');
$pageCount = $pdf->setSourceFile('file2.pdf');
for ($i = 1; $i <= $pageCount; $i++) {
    $templateId = $pdf->importPage($i);
    $pdf->AddPage();
    $pdf->useTemplate($templateId);
}

// Сохраняем итоговый PDF
$pdf->Output('merged.pdf', 'F');
?>
```

### 3. Важные замечания
- **Сохранение стилей**: FPDI импортирует страницы как векторные объекты, поэтому стили (шрифты, цвета, изображения) сохраняются без искажений.
- **Ограничения**:
    - Не поддерживаются PDF с шифрованием (если документ защищен паролем).
    - Некоторые сложные элементы (например, формы или скрипты) могут не переноситься корректно.
- **Альтернативы**:
    - Используйте **PdfMerger** (упрощенная обертка над FPDI).
    - Для сложных случаев — внешние утилиты (например, `pdftk` через `exec()`).

### 4. Пример с PdfMerger
```php
<?php
require_once 'vendor/autoload.php';

use PdfMerger\PdfMerger;

$merger = new PdfMerger();
$merger->addPDF('file1.pdf');
$merger->addPDF('file2.pdf');
$merger->merge();
$merger->save('merged.pdf');
?>
```

Если стили все же искажаются, проверьте:
1. Встроены ли шрифты в исходные PDF.
2. Нет ли конфликтов версий PDF (например, PDF/A).
3. Корректность самих исходных файлов.
   Чтобы изменить текст в PDF при объединении (например, заменить строку с пользователем), можно использовать комбинацию **FPDI** (для импорта страниц) и **TCPDF/FPDF** (для добавления/изменения текста). Однако учтите, что **прямое редактирование текста в существующем PDF невозможно**, если текст не является редактируемым (например, если он сохранен как изображение). В таком случае придется добавлять новый текст поверх.

---

### Пример: Добавление текста поверх импортированных страниц
```php
<?php
require_once 'vendor/autoload.php';

use setasign\Fpdi\Fpdi;
use setasign\Fpdi\PdfReader;

$pdf = new Fpdi('P', 'mm', 'A4', true, 'UTF-8', false);

// Импортируем страницу из PDF
$pageCount = $pdf->setSourceFile('template.pdf');
$templateId = $pdf->importPage(1); // Импортируем первую страницу

// Добавляем новую страницу и применяем шаблон
$pdf->AddPage();
$pdf->useTemplate($templateId);

// Добавляем текст поверх шаблона
$pdf->SetFont('Arial', 'B', 12);
$pdf->SetTextColor(0, 0, 0); // Черный цвет
$pdf->SetXY(50, 100); // Координаты (X=50, Y=100)
$pdf->Write(0, 'Новый текст пользователя: Иван Иванов');

// Сохраняем результат
$pdf->Output('modified.pdf', 'F');
?>
```

---

### Как это работает:
1. **Импорт страницы**: Используется `importPage()` для загрузки страницы из исходного PDF.
2. **Добавление текста**:
  - `SetFont()` — задает шрифт и размер.
  - `SetXY()` — устанавливает позицию текста (в мм от левого нижнего угла).
  - `Write()` или `Cell()` — выводит текст.

---

### Если нужно заменить существующий текст:
1. **Найдите координаты текста** в исходном PDF (например, с помощью инструментов вроде Adobe Acrobat или онлайн-редакторов).
2. **Наложите новый текст** поверх старого, используя те же координаты.

---

### Пример замены текста в таблице
```php
// Импортируем страницу
$templateId = $pdf->importPage(1);
$pdf->AddPage();
$pdf->useTemplate($templateId);

// Заменяем текст в таблице
$pdf->SetFont('Arial', '', 10);
$pdf->SetXY(100, 150); // Позиция ячейки таблицы
$pdf->Cell(0, 0, 'Новый статус: Оплачен'); // Новый текст
```

---

### Ограничения:
- **Текст как изображение**: Если исходный текст в PDF сохранен как изображение, заменить его таким способом не получится.
- **Шрифты**: Убедитесь, что используемый шрифт поддерживает нужные символы (например, кириллицу).
- **Позиционирование**: Координаты могут отличаться в зависимости от исходного PDF.

---

### Альтернатива: Генерация PDF с нуля
Если нужно много изменений, проще создать PDF с нуля, используя **TCPDF** или **FPDF**, а затем объединить с другими файлами через FPDI. Пример:
```php
// Создаем новый PDF с данными пользователя
$pdf = new \TCPDF();
$pdf->AddPage();
$pdf->Write(0, 'Имя пользователя: ' . $userName);
$pdf->Output('user_data.pdf', 'F');

// Объединяем с другим PDF через FPDI
```

Если нужна точная замена текста в существующем PDF, рассмотрите использование **PDFtk** или **pdftotext** через командную строку.